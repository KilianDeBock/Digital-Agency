// Import my own tools.js
const tools = require('./tools');

(() => {
  // Define data needed in the project.
  const articlesData = [
    {
      title: 'Tentoonstelling ‘concertfotografie’ door geert bonne',
      synopsis: 'Geert, voormalig drummer bij Gorky, is een ‘gevoelsmens’. Zijn invalshoek bij het maken van de concertfoto’s, meer bepaald het sub-thema rockfotografie, is het gevoel van passie, geluk, concentratie en overgave dat muziekartiesten ervaren op een podium.',
      body: '<p>“Mijn voorkeur gaat daarbij uit naar zwart-wit foto’s omdat je meer de nadruk kan leggen op het onderwerp”, vertelt Geert. De foto’s zijn getrokken over een tijdsspanne van vijf jaar. In de tentoonstelling zien we onder andere Luc De Vos en Raymond van het Groenewoud passeren. Deze tentoonstelling moet studenten Grafische en Digitale Media inspireren en stimuleren om zelf hun creatieve blik te verruimen.</p><p>Toen Geert Bonne als drummer van Gorky afscheid nam van de groep onder leiding van Luc De Vos, verliet hij de muziekwereld niet helemaal. Hij bleef verder deel uitmaken van diverse ensembles en zocht een nieuwe reden om de concertsfeer op te snuiven. Geert vond een nieuwe liefde in concertfotografie. Als rasechte muzikant kende hij dit wereldje als geen ander en wist hij hoe hij zich hierin moest bewegen om de juiste shots in zijn lens te krijgen. De foto’s werden vakkundig geprint door Geert Fasseur, docent aan de opleiding Grafische en Digitale Media in campus Mariakerke. Hij werkte nauw samen met de fotograaf. Beide expertises versterken elkaar en die samenwerking zorgde voor een professioneel eindresultaat. “De foto’s werden geprint op een Canon Pro 4000 en het papier heet Permajet Ultra Pearl. De reden voor dit papier is dat bij het maken van een scan witte stipjes in het beeld zouden verschijnen. Dit papier is dus zeer interessant als beveiliging voor fotografen tegen het kopiëren van hun werk”, vertelt Geert Fasseur. De kleurfoto’s zijn geprint op dibond op een Roland UV LEJ-640.</p><p>Fotograferen tijdens een concert is geen sinecure. Geert Bonne legt uit: “concertfotografie moet het doen met het licht dat ter beschikking is, dus dat varieert van goed tot zeer slecht en bijna onbruikbaar licht. Het is altijd een beetje zoeken in het begin maar van zodra de eerste noten van het optreden zijn gespeeld, kan je al inschatten hoe de belichting gedurende het concert zal zijn”. De fotograaf is ook geen fan van het extra belichten. “Ik belicht nooit bij omdat het de sfeer van de bestaande belichting verstoort. Het gebruik van flitslicht ook is zeer storend voor de muzikanten en publiek.” Lichtsterke objectieven zijn bij dit soort omstandigheden een troef. “Ikzelf heb de eerste jaren niet met een lichtsterk objectief (Nikon 18-105mm lens, 3.5-5.6) gewerkt en daarom fotografeerde ik steeds met een hoge ISO-waarde, meestal 6400 en redelijk lange sluitertijden. Maar vertoonden mijn beelden soms ruis en onscherpte. Maar voor mij is het niet de scherpte maar de emotie dat het belangrijkste is in een beeld, zoals de kleurfoto van Elephant in de tentoonstelling”, legt Geert uit. De fotograaf werkt met verschillende lichtsterke objectieven: een Nikon 85mm 1.8, een Nikon 50mm 1.4 en een Nikon 28mm 2.8, met een maximale ISO-waarde van 3200. De sluitertijd bij zijn foto’s varieert tussen 1/125 en 1/500. De foto’s in de tentoonstelling zijn allemaal gefotografeerd met een Nikon d7100 met een Nikon 18-105mm lens, 3.5-5.6.</p><p>De foto’s zijn nog te bezichtigen tot 31/01/2020 in de mediatheek op campus Mariakerke. De openingsuren van de mediatheek vindt u hier: <input type="checkbox" readonly="">(<a href="https://www.gdm.gent/”https://www.arteveldehogeschool.be/mediatheek/live/ws/”">https://www.gdm.gent/”https://www.arteveldehogeschool.be/mediatheek/live/ws/”</a>)<a href="https://www.arteveldehogeschool.be/mediatheek/live/ws/">https://www.arteveldehogeschool.be/mediatheek/live/ws/</a></p><p>Op 28 november 2019 is fotograaf Titus Simoens te gast op onze campus in teken van Woord over Beeld #19 georganiseerd door de vakgroep fotografie van het KISP. Aansluitend is er de mogelijkheid om het werk van Geert Bonne te bekijken. Info en tickets: <a href="https://www.gdm.gent/”https://www.universe.com/events/wob-19-titus-simoens-tickets-M7HSNF?fbclid=IwAR3Efb_hcCP2eXx5ArmNcKWSNEjPMJ_TCyZJlS65fgbM5B1k2_hHf6Wa56c"> https://www.universe.com/events/wob-19-titus-simoens-tickets-M7HSNF?fbclid=IwAR3Efb_hcCP2eXx5ArmNcKWSNEjPMJ_TCyZJlS65fgbM5B1k2_hHf6Wa56c</a></p>',
      thumbnailUrl: 'https://dl.airtable.com/.attachments/ce0470435c01a2a03365cacb5f70def2/fc368b51/IMG_0521.JPG',
      authors: [
        {
          firstName: 'Kilian',
          lastName: 'De Bock',
          thumbnailUrl: 'https://lyttle.it/src/images/stualyttle.png'
        },
        {
          firstName: 'Lisa',
          lastName: 'De Wilde',
          thumbnailUrl: 'https://dl.airtable.com/.attachments/8216307230f675f3fa6eb2aa90474c67/7ff726d6/lisa.jfif'
        }
      ],
      comments: [
        {
          nickName: 'Gamebuster',
          message: 'Is chroma subsampling normaal voor video opnames? Lijkt me toch onwenselijk dat je bron materiaal al chroma subsampling heeft',
          replies: [
            {
              nickName: 'JackDashwood',
              message: 'Voor consumenten en prosumer camera\'s is chroma subsampling wel degelijk de norm.'
            }
          ]
        },
        {
          nickName: 'mlohnen',
          message: 'Wat een cool ding en voor dat geld zo te zien super kwaliteit!Wat is er toch een hoop veranderd in de loop der jaren:https://www.marcelstvmuseu...ps%20ldk5%20totaal01.html',
          replies: [
            {
              nickName: 'Sideburnn',
              message: '2000 usd vind ik nogal wat.',
              replies: [
                {
                  nickName: 'bbob',
                  message: 'Welke hardware is minder dan een iphone.De sensor is in ieder geval groter dan op een iphone. De rest van de hardware cpu zal misschien minder zijn dan een top arm based cpu.Je kan er een lens op zetten, wat leuk is maar extra prijs en neem aan stationaire camera dus in een uitzoomen zit er al niet in.Natuurlijk wel leuk POE en wat meer aansluitingen.Maar de prijs is natuurlijk best fors voor deze specs. Maar wie weet is er een markt voor waar de prijs geen bezwaar is.',
                  replies: [
                    {
                      nickName: 'Mathijs',
                      message: 'Er zal gewoon een zoomlens op kunnen hoor. Bij de lensmount zie je onderin de contacten zitten voor iris, focus en zoom.',
                    }
                  ]
                }
              ]
            },
            {
              nickName: 'HellFury',
              message: 'je verkoopt er hier ook niet gauw tientallen miljoenen van. En minder dan een iPhone? In welk opzicht? Ik ben zeker tevreden met mijn iPhone camera, maar bij de presentatie gister zag ik toch best wat foto\'s waaraan je wel zag dat het met een telefoon genomen was vs bijv. een dSLR, en video vond ik op sommige momenten nog duidelijker een telefooncamera. Nogmaals: zeker goed, maar geen vervanger van dit soort systemen.',
            }
          ]
        }
      ],
      created: 1631514982000,
      modified: 1635424549000,
    },
    {
      title: 'Herlinde derycke wint de febelgra-prijs 2019',
      synopsis: 'Herlinde Derycke wint de Febelgra-prijs 2019',
      body: '<p>Studente Herlinde Derycke, afgestudeerd in de afstudeerrichting Grafimediabeleid, wint de Febelgra-prijs 2019. Die is uitgereikt op de proclamatieviering 5 oktober 2019 in Gent. Febelgra, de beroepsvereniging van de Belgische grafische industrie, reikt elk jaar de Febelgra-prijs uit aan een student wie uitzonderlijk werk heeft geleverd tijdens zijn of haar studie en uitblonk als ambassadeur is voor de grafische sector. Martin Desmaele van Febelgra: “In haar presentatie liet Herlinde snel blijken dat ze een uitstekende ambassadrice is voor onze branche. Zowel technisch-inhoudelijk als verbaal liet ze zich van haar sterkste kant zien.” Haar bachelorproef handelt over de problematiek en duurzame oplossingen binnen de verpakkingswereld waar ze op zoek gaat naar opportuniteiten en innovaties voor bedrijven om hun duurzaamheid te optimaliseren. Tijdens haar verdediging vertelde ze ook hoe ze energie haalt uit de passie en gedrevenheid van haar docenten. Desmaele is onder de indruk van de studente: “Wij zijn ervan overtuigd dat ze een enorme meerwaarde zal betekenen voor het werkveld en dat ze haar professionele ambities tot een goed einde zal brengen.” Andere genomineerde studenten waren Jordy Van der Haegen, afgestudeerd in de richting Multimediaproductie en Céline Van Nieuwenhuyse, afgestudeerd in de richting Crossmedia-ontwerp.</p>',
      thumbnailUrl: 'https://dl.airtable.com/.attachments/44d28e423b0b92ea6433db31b10dbe2b/2d56ac9b/febelgra-IMG_1209kl_2.jpg',
      authors: [
        {
          firstName: 'Lisa',
          lastName: 'De Wilde',
          thumbnailUrl: 'https://dl.airtable.com/.attachments/8216307230f675f3fa6eb2aa90474c67/7ff726d6/lisa.jfif'
        },
        {
          firstName: 'Tuur',
          lastName: 'Martens',
          thumbnailUrl: 'https://lyttle.it/src/images/johnythecarrot.png'
        }
      ],
      comments: [
        {
          nickName: 'xmenno',
          message: 'Dit is eigenlijk helemaal niks voor een Tweakers publiek als ik de reacties hier bekijk, vergelijken met een iPhone etc...Het gaat om een camera voor (semi) professionele productie.De BNC aansluiting is eigenlijk 3G-SDI, dit vind je normaal terug op broadcast (TV) grade apparatuur. Waarbij je kunt schakelen tussen meerdere bronnen, de kleur live bij kunt stellen zodat alle camera\'s er hetzelfde uit zien, multiviewers, encoders etc...HDMI is leuk want daarmee kun je het ook gebruiken voor een goedkopere ATEM Mini en voor weinig een professionele setup maken voor bijvoorbeeld je eigen show op YouTube of video conference.Hij doet ook Desqueezed Anamorphic en dat is weet iets wat je in films en series terug vind.Er kan een XLR microfoon worden aangesloten waarmee audio dan meteen in sync is met je video.',
          replies: [
            {
              nickName: 'Bliksem B',
              message: 'Ik vind het prima passen hier. Ook doordat Youtubers populair zijn. Met name de meer tech-oriented kanalen vertellen graag over hun gear. Zie bijvoorbeeld de laatste video van een subchannel van Linus Tech Tips over Black Magic 12k camera: https://www.youtube.com/watch?v=MWR2Y6ch2Wo .Maar goed om te zien dat Panasonic een uniek modulair kastje presenteert op basis van m4/3. Wat onbekendere Chinese makelarij kwamen al met dergelijke kastjes, als goedkope oplossing voor een Red. (want daar komt natuurlijk het modulaire ontwerp vandaan).',
              replies: [
                {
                  nickName: 'epoman',
                  message: 'Eens, en denk dat de markt voor modulaire camerasystemen nog best wel eens groot kan worden. Zie in steeds meer segmenten \'modulaire\' apparaten verschijnen met verschillende toepassingen. Arri, red, phaseone, hasselblad, insta360, nu panasonic, en ik vergeet er vast een paar.Ik kijk echter nog niet uit naar alle nieuwe \'ecosystemen\'.',
                }
              ]
            },
            {
              nickName: 'Rob Z',
              message: 'Juist, dit is geen action cam voor consumenten maar gereedschap voor profs'
            },
            {
              nickName: 'sypie',
              message: 'Die XLR microfoon kan alleen met een tussenstukje, er zit alleen maar een 3,5mm jack op de camera.'
            }
          ]
        },
        {
          nickName: 'Icefellow',
          message: 'Is dit een body waar nog een lens op moet?',
          replies: [
            {
              nickName: 'harmageddon',
              message: 'Jazeker, dus dat komt nog bovenop de prijs... tenzij je de lenzen al in je bezit hebt (of gaat huren)',
              replies: [
                {
                  nickName: 'Icefellow',
                  message: 'Misschien is het dan handig om in het topic ook een foto te plaatsen van een lens setuphttps://m.dpreview.com/ar...w-panasonic-lumix-dc-bgh1Ik dacht eerst dat het zoals bij een gopro inclusief was maar als er een lens die 2x de kubus is heb je in plaats van een halve liter melk nu een liter melk qua formaat.Dat laatste is niet echt meer \'klein en compact\'',
                  replies: [
                    {
                      nickName: 'knirfie244',
                      message: 'Hoezo? Micro Four Thirds bestaat al een decennia, en was het eerste (succesvolle) spiegelloze camera systeem met verwisselbare lenzen. Het overgrote deel van de Tweakers zijn wel bekend met het systeem, of hebben zelfs wel een M43 camera (gehad), dus die weten allemaal wat het is. Daarnaast zie je op de foto gewoon een lens-mount en de sensor, dus zelfs als je niet bekend bent met het systeem dan kan je ook simpel beredeneren dat er nog een lens op gezet moet worden.Overigens is de lens in je link wel extreem groot. Afhankelijk van gewenste zoom en diafragma kan je ook veel kleinere lenzen kopen. Ik heb deze meestal op mijn camera zitten.Daarnaast is 93x78mm natuurlijk geen GoPro formaat.'
                    }
                  ]
                },
                {
                  nickName: 'Herko_ter_Horst',
                  message: 'In vergelijking met waar cameramensen normaal mee rondsjouwen wel.'
                }
              ]
            }
          ]
        }
      ],
      created: 1632206182000,
      modified: 1635341822000
    }
  ];


  const app = {
    init() {
      // Start init, log to debugger:
      tools.debugger('Application initializing...');

      // Generate the user interface.
      this.generateUI();
      // Call for interaction and start the program.
      this.application.askForInteraction();

      // End init, log to debugger:
      tools.debugger('Application initialized!');
    },


    generateUI() {
      tools.debugger('Generate user interface...');

      // Create header and add it to the input function.
      const header = `${'='.repeat(100)}\
        \n|${' '.repeat(47)}${'News'.toUpperCase()}${' '.repeat(47)}|\
        \n${'='.repeat(100)}`;
      tools.input(header);

      // Go thru all the projects and add them to the input function.
      articlesData.map((article, i) => {
        // Define data objects needed later on.
        const dateCreated = new Date(article.created).toLocaleDateString('en-US');
        const dateModified = new Date(article.modified).toLocaleDateString('en-US');
        const timeModified = new Date(article.modified).toLocaleTimeString('en-US');

        // Create project
        const data = `Post ${i + 1}:\t${article.titel}\
            \n${'='.repeat(100)}\
            \nSynopsis:\t\t${article.synopsis}\
            \nBody:\t\t\t${article.body}\
            \nThumbnail:\t\t${article.thumbnailUrl}\
            \nCreated at:\t${dateCreated}\
            \nModified at:\t${dateModified} at ${timeModified}\
            \n${'-'.repeat(100)}\
            \nAuthors\
            \n${'-'.repeat(100)}`;
        tools.input(data);

        // Create authors and add it to input.
        article.authors.map((author, i) => {
          const authors = `Author ${i + 1}:\t\t${author.firstName} ${author.lastName}\n\t\t\t\t${author.thumbnailUrl}`;
          tools.input(authors);
        });

        // Add line to end of assets
        tools.input(`${'-'.repeat(100)}\
            \nComments\
            \n${'-'.repeat(100)}`);

        // Gets comments and lists them up.
        this.application.getComments(article.comments);

        // Add line to bottom data.
        tools.input('='.repeat(100));
      });
      tools.debugger('Generated user interface!');
    },


    application: {
      // Get all messages and add them to createComments input.
      getComments(comments) {
        // Search thru the comments list.
        comments.map((comment) => {
          // Set starter tabs.
          let tabCount = 0;
          // Add normal comments to the input.
          this.createComments(comment.message, comment.nickName, tabCount);

          // Finds reactions in root comments.
          function reactionsFinder(reaction, tabCount) {
            // Open the list and start searching in it.
            reaction.map((reaction, i) => {
              // Remove last added tabs searching based around index number.
              tabCount -= i;
              // Post message.
              app.application.createComments(reaction.message, reaction.nickName, ++tabCount);

              // Now check for replies in the message just send.
              if (reaction.replies) {
                // Restart searching for comments.
                reactionsFinder(reaction.replies, tabCount);
              }
            });
          }

          // Launch the reaction finder.
          reactionsFinder(comment.replies, tabCount);
        });
      },


      // Creates the layout for the comments. And pushes them into application.input
      createComments(comment, nickname, tabCount) {
        // If debug, shorten the comments.
        if (tools.settings.debug) {
          comment = 'What a nice debug mode is this, isn\'t it?';
        }
        // Add messages to input.
        tools.input(`${'\t\t'.repeat(tabCount)}*\t${comment}\n${'\t\t'.repeat(tabCount)}\tWritten by: ${nickname}`);
      },


      // Function interaction and start project, or just start the project
      askForInteraction() {
        tools.debugger('Interaction requested!');

        // Check if noJokes is enabled. If not continue
        if (tools.settings.noJokes) {
          tools.debugger('Interaction canceled but still sending message! (noJokes enabled)');

          // Start the project
          tools.log(tools.output, 0, 'askForInteraction');

          tools.debugger('Interaction event competed!');
          return;
        }

        // Define readline object
        const readline = require('readline').createInterface({
          input: process.stdin,
          output: process.stdout
        });

        // log info:
        tools.log('What\'s your mood? ["0" for normal, "1" for in the mood, "2" for special!]', -1, 'askForInteraction');
        // Set default message:
        let query = 'React with: 0, 1 or 2 > ';

        // If debug mode is enabled, change the default message so it won't add debug lines to the end of the question.
        if (tools.settings.debug) {
          // Log message
          tools.log('React with: 0, 1 or 2: ', -1, 'askForInteraction');
          // Clear question
          query = '';
        }
        // Start a readline session:
        readline.question(query, interaction => {
          // !! All code below will only be ran ones the user has reacted !!
          // Check for right content in message
          if (interaction === '0' || interaction === '1' || interaction === '2') {
            // If correct, start the logger.
            tools.log(tools.output, Number(interaction), 'askForInteraction');
            // Else warn and stop project.
          } else {
            tools.log('How dare u! I asked for 0, 1 or 2!!', -3, 'askForInteraction');
          }
          tools.debugger('Interaction competed!');
          // Close the readline
          readline.close();
          // Stop background process (input)
          process.stdin.destroy();
        });
      }
    }
  };
  // Start initialization of the project.
  app.init();
})();